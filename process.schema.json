{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "type" : "object",
  "properties" : {
    "format" : {
      "type" : "string",
      "pattern" : "^[0-9]+.[0-9]+.[0-9]+$"
    },
    "id" : {
      "type" : "string",
      "pattern" : "^[A-F0-9]{16,}$"
    },
    "kind" : {
      "$ref" : "#/$defs/ProcessKind"
    },
    "config" : {
      "$ref" : "#/$defs/ProcessConfig"
    },
    "elements" : {
      "type" : "array",
      "items" : {
        "$ref" : "#/$defs/NodeSchema"
      }
    }
  },
  "$defs" : {
    "ActivatorSchema" : {
      "type" : "object",
      "properties" : {
        "activator" : {
          "type" : "string"
        },
        "type" : {
          "$ref" : "#/$defs/ActivatorTypeSchema"
        }
      }
    },
    "ActivatorTypeSchema" : {
      "type" : "string",
      "enum" : [ "ROLE", "ROLE_FROM_ATTRIBUTE", "USER_FROM_ATTRIBUTE", "DELETE_TASK" ]
    },
    "Alternative" : {
      "type" : "object",
      "properties" : { }
    },
    "CacheArtifactSchema" : {
      "type" : "object",
      "properties" : {
        "invalidation" : {
          "$ref" : "#/$defs/Invalidation"
        },
        "name" : {
          "type" : "string"
        },
        "time" : {
          "type" : "string"
        }
      }
    },
    "CacheSchema" : {
      "type" : "object",
      "properties" : {
        "entry" : {
          "$ref" : "#/$defs/CacheArtifactSchema"
        },
        "group" : {
          "$ref" : "#/$defs/CacheArtifactSchema"
        },
        "mode" : {
          "$ref" : "#/$defs/Mode"
        },
        "scope" : {
          "$ref" : "#/$defs/Scope"
        }
      }
    },
    "CallSubEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "CallSubStart" : {
      "type" : "object",
      "properties" : { }
    },
    "CaseSchema" : {
      "type" : "object",
      "properties" : {
        "attachToBusinessCase" : {
          "type" : "boolean"
        },
        "category" : {
          "type" : "string"
        },
        "customFields" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/$defs/CustomFieldSchema"
          }
        },
        "description" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        }
      }
    },
    "ConnectorSchema" : {
      "type" : "object",
      "properties" : {
        "color" : {
          "type" : "string"
        },
        "condition" : {
          "type" : "string"
        },
        "id" : {
          "type" : "string"
        },
        "label" : {
          "type" : "string"
        },
        "offset" : {
          "$ref" : "#/$defs/PointSchema"
        },
        "outVar" : {
          "type" : "string"
        },
        "segment" : {
          "type" : "number"
        },
        "to" : {
          "type" : "string"
        },
        "var" : {
          "type" : "string"
        },
        "via" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/$defs/PointSchema"
          }
        }
      }
    },
    "CustomFieldSchema" : {
      "type" : "object",
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "type" : {
          "$ref" : "#/$defs/FieldTypeSchema"
        },
        "value" : {
          "type" : "string"
        }
      }
    },
    "Database" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "cache" : {
          "$ref" : "#/$defs/CacheSchema"
        },
        "query" : {
          "$ref" : "#/$defs/DbQuerySchema"
        },
        "exceptionHandler" : {
          "type" : "string"
        }
      }
    },
    "DbQuerySchema" : {
      "type" : "object",
      "properties" : {
        "dbName" : {
          "type" : "string"
        },
        "limit" : {
          "type" : "string"
        },
        "offset" : {
          "type" : "string"
        },
        "sql" : {
          "$ref" : "#/$defs/SqlStatementSchema"
        }
      }
    },
    "DialogCall" : {
      "type" : "object",
      "properties" : {
        "call" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "dialog" : {
          "type" : "string"
        }
      }
    },
    "EMail" : {
      "type" : "object",
      "properties" : {
        "headers" : {
          "$ref" : "#/$defs/HeadersSchema"
        },
        "failIfMissingAttachments" : {
          "type" : "boolean"
        },
        "attachments" : {
          "type" : "array",
          "items" : { }
        },
        "message" : {
          "$ref" : "#/$defs/MessageSchema"
        },
        "exceptionHandler" : {
          "type" : "string"
        }
      }
    },
    "EmbeddedEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "EmbeddedProcessElement" : {
      "type" : "object",
      "properties" : { }
    },
    "EmbeddedStart" : {
      "type" : "object",
      "properties" : { }
    },
    "ErrorBoundaryEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "ErrorEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "ErrorStartEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "ExpirySchema" : {
      "type" : "object",
      "properties" : {
        "error" : {
          "type" : "string"
        },
        "priority" : {
          "$ref" : "#/$defs/PrioritySchema"
        },
        "responsible" : {
          "$ref" : "#/$defs/ActivatorSchema"
        },
        "timeout" : {
          "type" : "string"
        }
      }
    },
    "FieldTypeSchema" : {
      "type" : "string",
      "enum" : [ "STRING", "TEXT", "NUMBER", "TIMESTAMP" ]
    },
    "GenericBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "HeadersSchema" : {
      "type" : "object",
      "properties" : {
        "bcc" : {
          "type" : "string"
        },
        "cc" : {
          "type" : "string"
        },
        "from" : {
          "type" : "string"
        },
        "replyTo" : {
          "type" : "string"
        },
        "subject" : {
          "type" : "string"
        },
        "to" : {
          "type" : "string"
        }
      }
    },
    "HtmlDialogEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "HtmlDialogEventStart" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "HtmlDialogExit" : {
      "type" : "object",
      "properties" : { }
    },
    "HtmlDialogMethodStart" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "HtmlDialogStart" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "Invalidation" : {
      "type" : "string",
      "enum" : [ "NONE", "FIXED_TIME", "LIFETIME" ]
    },
    "Join" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "LevelSchema" : {
      "type" : "string",
      "enum" : [ "EXCEPTION", "HIGH", "NORMAL", "LOW", "SCRIPT" ]
    },
    "ManualBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "Map(String,String)" : {
      "type" : "object",
      "additionalProperties" : {
        "type" : "string"
      }
    },
    "MapCodeSchema" : {
      "type" : "object",
      "properties" : {
        "code" : {
          "type" : "string"
        },
        "map" : {
          "$ref" : "#/$defs/Map(String,String)"
        }
      }
    },
    "MessageSchema" : {
      "type" : "object",
      "properties" : {
        "body" : {
          "type" : "string"
        },
        "contentType" : {
          "type" : "string"
        }
      }
    },
    "Mode" : {
      "type" : "string",
      "enum" : [ "DO_NOT_CACHE", "CACHE", "INVALIDATE_CACHE" ]
    },
    "NodeSchema" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string",
          "enum" : [ "ServiceBpmnElement", "TaskEndPage", "TaskSwitchGateway", "ReceiveBpmnElement", "ProcessAnnotation", "SubProcessCall", "EmbeddedEnd", "Database", "CallSubStart", "CallSubEnd", "Script", "Alternative", "SendBpmnElement", "ProgramInterface", "HtmlDialogExit", "ScriptBpmnElement", "HtmlDialogStart", "EmbeddedStart", "Split", "WebserviceEnd", "WebPage", "ErrorEnd", "UserBpmnElement", "RuleBpmnElement", "ErrorBoundaryEvent", "GenericBpmnElement", "HtmlDialogEventStart", "ProgramStart", "EmbeddedProcessElement", "WebServiceCall", "DialogCall", "TriggerCall", "ErrorStartEvent", "TaskEnd", "RequestStart", "WebserviceStart", "UserTask", "Join", "SignalBoundaryEvent", "EMail", "TaskSwitchEvent", "HtmlDialogMethodStart", "ThirdPartyProgramInterface", "WaitEvent", "RestClientCall", "ManualBpmnElement", "HtmlDialogEnd", "SignalStartEvent" ]
        },
        "name" : {
          "type" : "string"
        },
        "config" : {
          "oneOf" : [ {
            "$ref" : "#/$defs/ServiceBpmnElement"
          }, {
            "$ref" : "#/$defs/TaskEndPage"
          }, {
            "$ref" : "#/$defs/TaskSwitchGateway"
          }, {
            "$ref" : "#/$defs/ReceiveBpmnElement"
          }, {
            "$ref" : "#/$defs/ProcessAnnotation"
          }, {
            "$ref" : "#/$defs/SubProcessCall"
          }, {
            "$ref" : "#/$defs/EmbeddedEnd"
          }, {
            "$ref" : "#/$defs/Database"
          }, {
            "$ref" : "#/$defs/CallSubStart"
          }, {
            "$ref" : "#/$defs/CallSubEnd"
          }, {
            "$ref" : "#/$defs/Script"
          }, {
            "$ref" : "#/$defs/Alternative"
          }, {
            "$ref" : "#/$defs/SendBpmnElement"
          }, {
            "$ref" : "#/$defs/ProgramInterface"
          }, {
            "$ref" : "#/$defs/HtmlDialogExit"
          }, {
            "$ref" : "#/$defs/ScriptBpmnElement"
          }, {
            "$ref" : "#/$defs/HtmlDialogStart"
          }, {
            "$ref" : "#/$defs/EmbeddedStart"
          }, {
            "$ref" : "#/$defs/Split"
          }, {
            "$ref" : "#/$defs/WebserviceEnd"
          }, {
            "$ref" : "#/$defs/WebPage"
          }, {
            "$ref" : "#/$defs/ErrorEnd"
          }, {
            "$ref" : "#/$defs/UserBpmnElement"
          }, {
            "$ref" : "#/$defs/RuleBpmnElement"
          }, {
            "$ref" : "#/$defs/ErrorBoundaryEvent"
          }, {
            "$ref" : "#/$defs/GenericBpmnElement"
          }, {
            "$ref" : "#/$defs/HtmlDialogEventStart"
          }, {
            "$ref" : "#/$defs/ProgramStart"
          }, {
            "$ref" : "#/$defs/EmbeddedProcessElement"
          }, {
            "$ref" : "#/$defs/WebServiceCall"
          }, {
            "$ref" : "#/$defs/DialogCall"
          }, {
            "$ref" : "#/$defs/TriggerCall"
          }, {
            "$ref" : "#/$defs/ErrorStartEvent"
          }, {
            "$ref" : "#/$defs/TaskEnd"
          }, {
            "$ref" : "#/$defs/RequestStart"
          }, {
            "$ref" : "#/$defs/WebserviceStart"
          }, {
            "$ref" : "#/$defs/UserTask"
          }, {
            "$ref" : "#/$defs/Join"
          }, {
            "$ref" : "#/$defs/SignalBoundaryEvent"
          }, {
            "$ref" : "#/$defs/EMail"
          }, {
            "$ref" : "#/$defs/TaskSwitchEvent"
          }, {
            "$ref" : "#/$defs/HtmlDialogMethodStart"
          }, {
            "$ref" : "#/$defs/WaitEvent"
          }, {
            "$ref" : "#/$defs/RestClientCall"
          }, {
            "$ref" : "#/$defs/ManualBpmnElement"
          }, {
            "$ref" : "#/$defs/HtmlDialogEnd"
          }, {
            "$ref" : "#/$defs/SignalStartEvent"
          } ]
        },
        "visual" : {
          "$ref" : "#/$defs/VisualAttributes"
        },
        "connect" : {
          "$ref" : "#/$defs/ConnectorSchema"
        }
      }
    },
    "PermissionSchema" : {
      "type" : "object",
      "properties" : {
        "view" : {
          "$ref" : "#/$defs/PermissionView"
        }
      }
    },
    "PermissionView" : {
      "type" : "object",
      "properties" : {
        "allowed" : {
          "type" : "boolean"
        }
      }
    },
    "PointSchema" : {
      "type" : "object",
      "properties" : {
        "x" : {
          "type" : "integer"
        },
        "y" : {
          "type" : "integer"
        }
      }
    },
    "PrioritySchema" : {
      "type" : "object",
      "properties" : {
        "level" : {
          "$ref" : "#/$defs/LevelSchema"
        },
        "script" : {
          "type" : "string"
        }
      }
    },
    "ProcessAnnotation" : {
      "type" : "object",
      "properties" : { }
    },
    "ProcessConfig" : {
      "type" : "object",
      "properties" : {
        "data" : {
          "type" : "string"
        },
        "permissions" : {
          "$ref" : "#/$defs/PermissionSchema"
        }
      }
    },
    "ProcessKind" : {
      "type" : "string",
      "enum" : [ "NORMAL", "WEB_SERVICE", "CALLABLE_SUB", "HTML_DIALOG" ]
    },
    "ProgramInterface" : {
      "type" : "object",
      "properties" : { }
    },
    "ProgramStart" : {
      "type" : "object",
      "properties" : { }
    },
    "QueryKind" : {
      "type" : "string",
      "enum" : [ "READ", "WRITE", "UPDATE", "DELETE", "ANY" ]
    },
    "ReceiveBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "RequestStart" : {
      "type" : "object",
      "properties" : {
        "task" : {
          "$ref" : "#/$defs/TaskSchema"
        },
        "case" : {
          "$ref" : "#/$defs/CaseSchema"
        }
      }
    },
    "RestClientCall" : {
      "type" : "object",
      "properties" : { }
    },
    "RuleBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "Scope" : {
      "type" : "string",
      "enum" : [ "SESSION", "APPLICATION" ]
    },
    "Script" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "sudo" : {
          "type" : "boolean"
        }
      }
    },
    "ScriptBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "SendBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "ServiceBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "SignalBoundaryEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "SignalStartEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "Split" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "SqlStatementSchema" : {
      "type" : "object",
      "properties" : {
        "condition" : {
          "type" : "string"
        },
        "fields" : {
          "$ref" : "#/$defs/Map(String,String)"
        },
        "kind" : {
          "$ref" : "#/$defs/QueryKind"
        },
        "orderBy" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "quote" : {
          "type" : "boolean"
        },
        "select" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "stmt" : {
          "type" : "string"
        },
        "table" : {
          "type" : "string"
        }
      }
    },
    "SubProcessCall" : {
      "type" : "object",
      "properties" : {
        "call" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "TaskEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "TaskEndPage" : {
      "type" : "object",
      "properties" : { }
    },
    "TaskSchema" : {
      "type" : "object",
      "properties" : {
        "category" : {
          "type" : "string"
        },
        "code" : {
          "type" : "string"
        },
        "customFields" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/$defs/CustomFieldSchema"
          }
        },
        "delay" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "expiry" : {
          "$ref" : "#/$defs/ExpirySchema"
        },
        "name" : {
          "type" : "string"
        },
        "priority" : {
          "$ref" : "#/$defs/PrioritySchema"
        },
        "responsible" : {
          "$ref" : "#/$defs/ActivatorSchema"
        },
        "skipTasklist" : {
          "type" : "boolean"
        }
      }
    },
    "TaskSwitchEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "task" : {
          "$ref" : "#/$defs/TaskSchema"
        },
        "case" : {
          "$ref" : "#/$defs/CaseSchema"
        }
      }
    },
    "TaskSwitchGateway" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "case" : {
          "$ref" : "#/$defs/CaseSchema"
        }
      }
    },
    "TriggerCall" : {
      "type" : "object",
      "properties" : {
        "call" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "UserBpmnElement" : {
      "type" : "object",
      "properties" : { }
    },
    "UserTask" : {
      "type" : "object",
      "properties" : {
        "call" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "dialog" : {
          "type" : "string"
        },
        "task" : {
          "$ref" : "#/$defs/TaskSchema"
        },
        "case" : {
          "$ref" : "#/$defs/CaseSchema"
        }
      }
    },
    "VisualAttributes" : {
      "type" : "object",
      "properties" : {
        "at" : {
          "$ref" : "#/$defs/PointSchema"
        },
        "color" : {
          "type" : "string"
        }
      }
    },
    "WaitEvent" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        }
      }
    },
    "WebPage" : {
      "type" : "object",
      "properties" : { }
    },
    "WebServiceCall" : {
      "type" : "object",
      "properties" : {
        "output" : {
          "$ref" : "#/$defs/MapCodeSchema"
        },
        "cache" : {
          "$ref" : "#/$defs/CacheSchema"
        }
      }
    },
    "WebserviceEnd" : {
      "type" : "object",
      "properties" : { }
    },
    "WebserviceStart" : {
      "type" : "object",
      "properties" : {
        "task" : {
          "$ref" : "#/$defs/TaskSchema"
        },
        "case" : {
          "$ref" : "#/$defs/CaseSchema"
        }
      }
    }
  }
}
